<h1 id="fruit-and-vegetables-availability">Fruit and Vegetables Availability</h1>

<p>https://www.ers.usda.gov/data-products/food-availability-per-capita-data-system/food-availability-per-capita-data-system/#Food%20Availability</p>

<p>All data in Pounds</p>

<h2 id="activate-r">Activate R</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># activate R magic
</span><span class="o">%</span><span class="n">load_ext</span> <span class="n">rpy2</span><span class="o">.</span><span class="n">ipython</span>
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">42</span><span class="w">
</span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] 42
</code></pre></div></div>

<h2 id="import-csv">import csv</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">fruitveg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'https://gist.githubusercontent.com/akhmal22/f398b2c192a50e8acec9c9dd31a96ee3/raw/5c8ab16d36332ddd2ec3ef06925f13b27d3300f4/fruitveg.csv'</span><span class="w">
</span><span class="n">datafv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="n">fruitveg</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">datafv</span><span class="p">,</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   year freshf canf freezef driedf juicef otherf totalProcf totalf freshv  canv
1  1970  100.6 26.2     3.9   10.0   96.7    0.7      137.4  238.0  154.4 100.7
2  1971  100.8 26.5     4.0   10.0  100.5    0.6      141.6  242.4  148.1 107.8
3  1972   94.4 24.2     4.0    7.2  101.7    0.7      137.7  232.0  151.4 104.6
4  1973   96.7 24.5     4.1   10.2  100.0    0.6      139.3  236.0  148.1  98.3
5  1974   96.1 24.0     3.3    9.7  101.8    1.0      139.8  235.8  146.2  99.1
6  1975  101.3 23.5     3.0   10.3  113.9    0.4      151.2  252.5  149.1  97.9
7  1976  101.9 23.4     3.4   13.5  115.5    0.3      156.2  258.1  148.4 103.6
8  1977   99.6 24.4     3.3    9.9  131.2    0.6      169.4  268.9  148.8 101.7
9  1978  103.6 24.1     3.7    8.6  119.4    0.8      156.6  260.3  143.9  96.7
10 1979   99.9 25.0     3.1   10.1  112.5    0.6      151.3  251.2  149.0 100.6
   freezev driedv chips legume totalProcv totalv totalfv
1     43.7   13.2  17.4    7.0      181.9  336.3   574.3
2     45.3   13.8  17.2    7.4      191.5  339.5   581.9
3     45.3   13.3  16.7    6.6      186.4  337.8   569.8
4     50.6   14.2  16.3    8.0      187.4  335.5   571.5
5     51.0   16.1  15.7    6.2      188.1  334.3   570.1
6     52.6   16.7  15.5    7.2      189.8  338.9   591.4
7     57.5   17.1  15.8    6.8      200.7  349.1   607.2
8     59.0   12.7  16.2    7.0      196.7  345.5   614.5
9     58.9   13.4  16.5    5.7      191.2  335.1   595.4
10    55.4   13.1  16.7    6.7      192.6  341.6   592.8
</code></pre></div></div>

<h2 id="remove-null">remove null</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">datafv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">na.omit</span><span class="p">(</span><span class="n">datafv</span><span class="p">)</span><span class="w"> </span><span class="c1"># Remove NA</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">datafv</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  year freshf canf freezef driedf juicef otherf totalProcf totalf freshv  canv
1 1970  100.6 26.2     3.9   10.0   96.7    0.7      137.4  238.0  154.4 100.7
2 1971  100.8 26.5     4.0   10.0  100.5    0.6      141.6  242.4  148.1 107.8
3 1972   94.4 24.2     4.0    7.2  101.7    0.7      137.7  232.0  151.4 104.6
4 1973   96.7 24.5     4.1   10.2  100.0    0.6      139.3  236.0  148.1  98.3
5 1974   96.1 24.0     3.3    9.7  101.8    1.0      139.8  235.8  146.2  99.1
6 1975  101.3 23.5     3.0   10.3  113.9    0.4      151.2  252.5  149.1  97.9
  freezev driedv chips legume totalProcv totalv totalfv
1    43.7   13.2  17.4    7.0      181.9  336.3   574.3
2    45.3   13.8  17.2    7.4      191.5  339.5   581.9
3    45.3   13.3  16.7    6.6      186.4  337.8   569.8
4    50.6   14.2  16.3    8.0      187.4  335.5   571.5
5    51.0   16.1  15.7    6.2      188.1  334.3   570.1
6    52.6   16.7  15.5    7.2      189.8  338.9   591.4
</code></pre></div></div>

<h2 id="year-column-is-not-used-drop-it">year column is not used, drop it</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">datafv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">datafv</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">year</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">R</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">datafv</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  freshf canf freezef driedf juicef otherf totalProcf totalf freshv  canv
1  100.6 26.2     3.9   10.0   96.7    0.7      137.4  238.0  154.4 100.7
2  100.8 26.5     4.0   10.0  100.5    0.6      141.6  242.4  148.1 107.8
3   94.4 24.2     4.0    7.2  101.7    0.7      137.7  232.0  151.4 104.6
4   96.7 24.5     4.1   10.2  100.0    0.6      139.3  236.0  148.1  98.3
5   96.1 24.0     3.3    9.7  101.8    1.0      139.8  235.8  146.2  99.1
6  101.3 23.5     3.0   10.3  113.9    0.4      151.2  252.5  149.1  97.9
  freezev driedv chips legume totalProcv totalv totalfv
1    43.7   13.2  17.4    7.0      181.9  336.3   574.3
2    45.3   13.8  17.2    7.4      191.5  339.5   581.9
3    45.3   13.3  16.7    6.6      186.4  337.8   569.8
4    50.6   14.2  16.3    8.0      187.4  335.5   571.5
5    51.0   16.1  15.7    6.2      188.1  334.3   570.1
6    52.6   16.7  15.5    7.2      189.8  338.9   591.4
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># this method similar to pandas.Dataframe.describe()
</span><span class="o">%%</span><span class="n">R</span>
<span class="n">summary</span><span class="p">(</span><span class="n">datafv</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     freshf           canf          freezef          driedf     
 Min.   : 94.4   Min.   :13.30   Min.   :3.000   Min.   : 7.20  
 1st Qu.:107.7   1st Qu.:16.55   1st Qu.:3.850   1st Qu.: 9.90  
 Median :123.3   Median :19.95   Median :4.300   Median :10.30  
 Mean   :119.2   Mean   :19.49   Mean   :4.267   Mean   :10.79  
 3rd Qu.:128.3   3rd Qu.:22.27   3rd Qu.:4.800   3rd Qu.:12.12  
 Max.   :142.7   Max.   :26.50   Max.   :5.600   Max.   :15.00  
     juicef          otherf         totalProcf        totalf     
 Min.   : 80.9   Min.   :0.2000   Min.   :109.7   Min.   :232.0  
 1st Qu.:100.5   1st Qu.:0.3000   1st Qu.:138.5   1st Qu.:254.5  
 Median :115.7   Median :0.5000   Median :151.4   Median :267.3  
 Mean   :111.1   Mean   :0.5292   Mean   :146.1   Mean   :265.4  
 3rd Qu.:120.4   3rd Qu.:0.7000   3rd Qu.:156.4   3rd Qu.:277.5  
 Max.   :136.4   Max.   :1.0000   Max.   :170.5   Max.   :300.0  
     freshv           canv           freezev          driedv     
 Min.   :143.9   Min.   : 81.90   Min.   :43.70   Min.   :10.50  
 1st Qu.:151.8   1st Qu.: 96.50   1st Qu.:58.73   1st Qu.:12.80  
 Median :185.1   Median :100.50   Median :68.80   Median :13.90  
 Mean   :176.3   Mean   : 99.96   Mean   :67.05   Mean   :14.10  
 3rd Qu.:194.2   3rd Qu.:103.85   3rd Qu.:75.95   3rd Qu.:15.32  
 Max.   :204.4   Max.   :112.40   Max.   :83.40   Max.   :17.70  
     chips           legume         totalProcv        totalv     
 Min.   :13.70   Min.   : 5.700   Min.   :181.9   Min.   :334.3  
 1st Qu.:16.18   1st Qu.: 6.700   1st Qu.:192.8   1st Qu.:344.5  
 Median :16.70   Median : 7.200   Median :202.0   Median :388.9  
 Mean   :16.79   Mean   : 7.365   Mean   :205.3   Mean   :381.5  
 3rd Qu.:17.52   3rd Qu.: 8.025   3rd Qu.:218.4   3rd Qu.:413.9  
 Max.   :20.00   Max.   :11.200   Max.   :232.0   Max.   :425.1  
    totalfv     
 Min.   :569.8  
 1st Qu.:612.7  
 Median :647.0  
 Mean   :646.9  
 3rd Qu.:686.2  
 Max.   :721.3  
</code></pre></div></div>

